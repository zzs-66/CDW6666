<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>日在召实 - Day in ShaoShi</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background-color: #1a1a2e;
            color: #e6e6e6;
            overflow: hidden;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background-image: linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)), 
                              radial-gradient(circle at center, #4e54c8, #1a1a2e);
        }
        
        #game-container {
            width: 100%;
            max-width: 1200px;
            height: 85vh;
            background-color: rgba(10, 10, 20, 0.85);
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(78, 84, 200, 0.6);
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
        }
        
        #game-header {
            background: linear-gradient(to right, #2d2d5e, #4e54c8);
            padding: 15px 25px;
            text-align: center;
            border-bottom: 2px solid #f8f9fa;
        }
        
        #game-title {
            font-size: 2.2rem;
            font-weight: bold;
            color: #ffffff;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.7);
            letter-spacing: 2px;
        }
        
        #game-content {
            flex: 1;
            display: flex;
            overflow: hidden;
            position: relative;
        }
        
        #character-section {
            width: 25%;
            min-width: 250px;
            padding: 20px;
            border-right: 1px solid #4e54c8;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: rgba(15, 15, 35, 0.7);
        }
        
        #character-image {
            width: 200px;
            height: 300px;
            border: 3px solid #4e54c8;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            background: linear-gradient(45deg, #2d2d5e, #1a1a2e);
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        #character-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
        
        #character-info {
            text-align: center;
            width: 100%;
        }
        
        #character-name {
            font-size: 1.8rem;
            color: #ffcc00;
            margin-bottom: 10px;
            text-shadow: 0 0 5px rgba(255, 204, 0, 0.5);
        }
        
        .character-stats {
            width: 100%;
            background-color: rgba(45, 45, 94, 0.6);
            padding: 12px;
            border-radius: 8px;
            margin: 8px 0;
            text-align: left;
        }
        
        .stat-bar {
            height: 10px;
            background-color: #333;
            border-radius: 5px;
            margin-top: 5px;
            overflow: hidden;
        }
        
        .stat-fill {
            height: 100%;
            background: linear-gradient(to right, #ff6b6b, #ffcc00);
            border-radius: 5px;
        }
        
        #dialogue-section {
            flex: 1;
            padding: 25px;
            display: flex;
            flex-direction: column;
            position: relative;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="rgba(20,20,40,0.3)"/><path d="M0 50 Q 25 30, 50 50 T 100 50" stroke="rgba(78,84,200,0.1)" stroke-width="1" fill="none"/></svg>');
        }
        
        #scene-description {
            min-height: 150px;
            background-color: rgba(0, 0, 0, 0.6);
            border: 1px solid #4e54c8;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            font-size: 1.1rem;
            line-height: 1.6;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            overflow-y: auto;
        }
        
        #dialogue-box {
            flex: 1;
            background-color: rgba(0, 0, 0, 0.7);
            border: 2px solid #4e54c8;
            border-radius: 10px;
            padding: 20px;
            font-size: 1.2rem;
            line-height: 1.6;
            overflow-y: auto;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
        }
        
        #dialogue-text {
            min-height: 120px;
        }
        
        #choices-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .choice-btn {
            background: linear-gradient(to right, #4e54c8, #8f94fb);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 8px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .choice-btn:hover {
            background: linear-gradient(to right, #ff6b6b, #ffcc00);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }
        
        #game-controls {
            display: flex;
            justify-content: space-between;
            padding: 15px 25px;
            background-color: rgba(15, 15, 35, 0.9);
            border-top: 2px solid #4e54c8;
        }
        
        .control-btn {
            background: linear-gradient(to right, #2d2d5e, #4e54c8);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .control-btn:hover {
            background: linear-gradient(to right, #ff6b6b, #ffcc00);
            box-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
        }
        
        #page-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .page-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #4e54c8;
            cursor: pointer;
        }
        
        .page-dot.active {
            background-color: #ffcc00;
            transform: scale(1.3);
        }
        
        #notification {
            position: absolute;
            top: 20px;
            right: 20px;
            background: linear-gradient(to right, #ff6b6b, #ffcc00);
            color: #1a1a2e;
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transform: translateX(150%);
            transition: transform 0.5s ease;
        }
        
        #notification.show {
            transform: translateX(0);
        }
        
        .typing-cursor {
            display: inline-block;
            width: 8px;
            height: 1.2rem;
            background-color: #ffcc00;
            margin-left: 4px;
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        
        #bg-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, transparent 0%, rgba(10,10,20,0.9) 70%);
            pointer-events: none;
            z-index: 1;
        }
        
        #bg-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0.3;
            z-index: 0;
        }
        
        .scene-title {
            text-align: center;
            font-size: 1.8rem;
            color: #ffcc00;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(255, 204, 0, 0.7);
        }
        
        .highlight {
            color: #ffcc00;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="bg-image"></div>
        <div id="bg-overlay"></div>
        
        <div id="game-header">
            <h1 id="game-title">日在召实 (Day in ShaoShi)</h1>
        </div>
        
        <div id="game-content">
            <div id="character-section">
                <div id="character-image">
                    <div style="color: #4e54c8; font-size: 1.2rem; text-align: center;">
                        角色立绘区域<br>
                        <span style="font-size: 0.9rem; color: #ffcc00;">(曹东旺图像)</span>
                    </div>
                </div>
                <div id="character-info">
                    <h2 id="character-name">曹东旺</h2>
                    <div class="character-stats">
                        健康值: 85/100
                        <div class="stat-bar">
                            <div class="stat-fill" style="width: 85%;"></div>
                        </div>
                    </div>
                    <div class="character-stats">
                        精力值: 70/100
                        <div class="stat-bar">
                            <div class="stat-fill" style="width: 70%;"></div>
                        </div>
                    </div>
                    <div class="character-stats">
                        心情值: 90/100
                        <div class="stat-bar">
                            <div class="stat-fill" style="width: 90%;"></div>
                        </div>
                    </div>
                    <div class="character-stats">
                        魅力值: 80/100
                        <div class="stat-bar">
                            <div class="stat-fill" style="width: 80%;"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="dialogue-section">
                <div id="scene-description">
                    <div class="scene-title">第一章：召实学园的早晨</div>
                    <p>清晨的阳光透过窗帘洒在房间内，<span class="highlight">曹东旺</span>慢慢睁开双眼。今天是转学到召实学园的第一天，空气中弥漫着樱花的香气和未知的可能性。</p>
                    <p>窗外可以看到学生们三三两两地走向教学楼，远处钟楼的指针指向7:30分。</p>
                </div>
                
                <div id="dialogue-box">
                    <div id="dialogue-text">
                        （内心独白）新学校的第一天...不知道会遇到什么样的人和事呢？希望一切顺利。
                    </div>
                </div>
                
                <div id="choices-container">
                    <button class="choice-btn" onclick="selectChoice(1)">快速起床准备</button>
                    <button class="choice-btn" onclick="selectChoice(2)">再躺五分钟</button>
                    <button class="choice-btn" onclick="selectChoice(3)">检查手机信息</button>
                    <button class="choice-btn" onclick="selectChoice(4)">打开窗户看风景</button>
                </div>
            </div>
        </div>
        
        <div id="game-controls">
            <button class="control-btn" onclick="saveGame()">保存进度</button>
            <div id="page-indicator">
                <div class="page-dot active"></div>
                <div class="page-dot"></div>
                <div class="page-dot"></div>
                <div class="page-dot"></div>
                <div class="page-dot"></div>
            </div>
            <button class="control-btn" onclick="loadGame()">读取进度</button>
        </div>
        
        <div id="notification">游戏已保存！</div>
    </div>

    <script>
        // 游戏状态
        const gameState = {
            currentPage: 1,
            health: 85,
            energy: 70,
            mood: 90,
            charm: 80,
            day: 1,
            location: "dormitory"
        };
        
        // 场景数据
        const scenes = [
            {
                title: "第一章：召实学园的早晨",
                description: "清晨的阳光透过窗帘洒在房间内，曹东旺慢慢睁开双眼。今天是转学到召实学园的第一天，空气中弥漫着樱花的香气和未知的可能性。窗外可以看到学生们三三两两地走向教学楼，远处钟楼的指针指向7:30分。",
                dialogue: "（内心独白）新学校的第一天...不知道会遇到什么样的人和事呢？希望一切顺利。",
                choices: [
                    "快速起床准备",
                    "再躺五分钟",
                    "检查手机信息",
                    "打开窗户看风景"
                ]
            },
            {
                title: "教学楼走廊的相遇",
                description: "曹东旺匆忙赶到教学楼，在走廊转角处不小心撞到了一位抱着书本的女同学。书本散落一地，周围的学生们投来好奇的目光。",
                dialogue: "啊！对不起，我不是故意的...我帮你捡起来！",
                choices: [
                    "快速帮忙捡书本",
                    "先自我介绍道歉",
                    "开个玩笑缓解气氛",
                    "指出对方也有责任"
                ]
            },
            {
                title: "午休时分的食堂",
                description: "午餐时间，食堂里挤满了学生。曹东旺端着餐盘寻找座位时，看到早上遇到的那位女同学独自坐在窗边的位置。",
                dialogue: "（犹豫）要不要过去打招呼呢？早上那么尴尬，她可能还在生气吧...",
                choices: [
                    "鼓起勇气走过去",
                    "找个其他位置坐下",
                    "买饮料给她送过去",
                    "假装没看见"
                ]
            },
            {
                title: "放学后的邀请",
                description: "放学铃声响起，曹东旺正在整理书包时，早上的女同学走了过来。夕阳透过窗户把她的头发染成金色，她看起来有些紧张。",
                dialogue: "那个...曹同学，今天早上谢谢你帮我捡书本。如果你有空的话...要不要一起去喝点东西？",
                choices: [
                    "欣然接受邀请",
                    "犹豫后答应",
                    "礼貌地拒绝",
                    "提议改天"
                ]
            },
            {
                title: "河畔的黄昏",
                description: "两人来到学校附近的河畔咖啡厅，夕阳把河水染成金黄色。微风轻拂，气氛宁静而美好。",
                dialogue: "其实...我今天早上是故意站在那里的。从你转学来的第一天，我就注意到你了...",
                choices: [
                    "表达同样的好感",
                    "惊讶地询问原因",
                    "害羞地转移话题",
                    "开个玩笑回应"
                ]
            }
        ];
        
        // 更新页面指示器
        function updatePageIndicator() {
            const dots = document.querySelectorAll('.page-dot');
            dots.forEach((dot, index) => {
                if (index === gameState.currentPage - 1) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }
        
        // 显示通知
        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // 选择选项
        function selectChoice(choiceIndex) {
            const choiceText = scenes[gameState.currentPage - 1].choices[choiceIndex - 1];
            const dialogueBox = document.getElementById('dialogue-text');
            
            // 更新角色状态
            gameState.health += Math.floor(Math.random() * 5) - 2;
            gameState.energy += Math.floor(Math.random() * 5) - 3;
            gameState.mood += Math.floor(Math.random() * 7) - 2;
            gameState.charm += Math.floor(Math.random() * 4) - 1;
            
            // 确保数值在合理范围内
            gameState.health = Math.max(0, Math.min(100, gameState.health));
            gameState.energy = Math.max(0, Math.min(100, gameState.energy));
            gameState.mood = Math.max(0, Math.min(100, gameState.mood));
            gameState.charm = Math.max(0, Math.min(100, gameState.charm));
            
            // 更新状态显示
            document.querySelectorAll('.stat-fill')[0].style.width = `${gameState.health}%`;
            document.querySelectorAll('.stat-fill')[1].style.width = `${gameState.energy}%`;
            document.querySelectorAll('.stat-fill')[2].style.width = `${gameState.mood}%`;
            document.querySelectorAll('.stat-fill')[3].style.width = `${gameState.charm}%`;
            
            // 显示玩家选择
            dialogueBox.innerHTML = `（曹东旺选择：${choiceText}）`;
            
            // 延迟后推进剧情
            setTimeout(() => {
                if (gameState.currentPage < scenes.length) {
                    gameState.currentPage++;
                    updateScene();
                } else {
                    dialogueBox.innerHTML = "（游戏第一章结束，更多内容敬请期待...）";
                    document.getElementById('choices-container').innerHTML = '';
                }
            }, 1500);
            
            // 显示通知
            showNotification(`选择已记录: ${choiceText}`);
        }
        
        // 更新场景
        function updateScene() {
            const currentScene = scenes[gameState.currentPage - 1];
            
            document.querySelector('.scene-title').textContent = currentScene.title;
            document.getElementById('scene-description').innerHTML = 
                `<div class="scene-title">${currentScene.title}</div><p>${currentScene.description}</p>`;
                
            document.getElementById('dialogue-text').textContent = currentScene.dialogue;
            
            const choicesContainer = document.getElementById('choices-container');
            choicesContainer.innerHTML = '';
            
            currentScene.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice-btn';
                button.textContent = choice;
                button.onclick = () => selectChoice(index + 1);
                choicesContainer.appendChild(button);
            });
            
            // 更新页面指示器
            updatePageIndicator();
            
            // 更新背景
            const bgImage = document.getElementById('bg-image');
            const bgImages = [
                'linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c)',
                'linear-gradient(135deg, #3a7bd5, #00d2ff)',
                'linear-gradient(135deg, #ff7e5f, #feb47b)',
                'linear-gradient(135deg, #614385, #516395)',
                'linear-gradient(135deg, #ff6b6b, #ffcc00)'
            ];
            bgImage.style.backgroundImage = bgImages[gameState.currentPage - 1];
        }
        
        // 保存游戏
        function saveGame() {
            localStorage.setItem('dayInShaoShiSave', JSON.stringify(gameState));
            showNotification("游戏进度已保存！");
        }
        
        // 读取游戏
        function loadGame() {
            const saveData = localStorage.getItem('dayInShaoShiSave');
            if (saveData) {
                const savedState = JSON.parse(saveData);
                Object.assign(gameState, savedState);
                updateScene();
                showNotification("游戏进度已加载！");
            } else {
                showNotification("没有找到保存文件");
            }
        }
        
        // 初始更新
        updatePageIndicator();
        
        // 添加打字效果
        const dialogueText = document.getElementById('dialogue-text');
        const originalText = dialogueText.textContent;
        dialogueText.textContent = '';
        
        let charIndex = 0;
        function typeText() {
            if (charIndex < originalText.length) {
                dialogueText.textContent += originalText.charAt(charIndex);
                charIndex++;
                setTimeout(typeText, 30);
            } else {
                // 添加闪烁光标
                const cursor = document.createElement('span');
                cursor.className = 'typing-cursor';
                dialogueText.appendChild(cursor);
            }
        }
        
        // 开始打字效果
        setTimeout(typeText, 1000);
    </script>
</body>
</html>
